--- ../src-base/minecraft/net/minecraft/entity/ai/EntityAITarget.java
+++ ../src-work/minecraft/net/minecraft/entity/ai/EntityAITarget.java
@@ -92,7 +92,10 @@
                     }
                     else
                     {
-                        this.taskOwner.setAttackTarget(entitylivingbase);
+                        //Craftbukkit start - add TargetReason
+                        //this.taskOwner.setAttackTarget(entitylivingbase);
+                        this.taskOwner.setAttackTarget(entitylivingbase, org.bukkit.event.entity.EntityTargetEvent.TargetReason.CLOSEST_ENTITY, true);
+                        //Craftbukkit end
                         return true;
                     }
                 }
@@ -115,7 +118,10 @@
 
     public void resetTask()
     {
-        this.taskOwner.setAttackTarget((EntityLivingBase)null);
+        //Craftbukkit start - add TargetReason
+        //this.taskOwner.setAttackTarget((EntityLivingBase)null);
+        this.taskOwner.setAttackTarget((EntityLivingBase)null, org.bukkit.event.entity.EntityTargetEvent.TargetReason.FORGOT_TARGET, true);
+        //Craftbukkit end
         this.target = null;
     }
 
